{
    "title": "Azure ML AKS Service",
    "type": "object",
    "properties": {
        "deploymentConfig": {
            "type": "object",
            "description": "Represents a deployment configuration information for a service deployed on Azure Kubernetes Service.",
            "properties": {
                "cpu_cores": {
                    "type": "number",
                    "description": "The number of CPU cores to allocate for this web service. Can be a decimal. Defaults to 0.1",
                    "exclusiveMinimum": 0
                },
                "memory_gb": {
                    "type": "number",
                    "description": "The amount of memory (in GB) to allocate for this web service. Can be a decimal. Defaults to 0.5",
                    "exclusiveMinimum": 0
                },
                "tags": {
                    "type": "object",
                    "description": "A dictionary of key value tags to give this web service."
                },
                "properties": {
                    "type": "object",
                    "description": "A dictionary of key value properties to give this web service. These properties cannot be changed after deployment, however new key value pairs can be added."
                },
                "description": {
                    "type": "string",
                    "description": "A description to give this web service."
                },
                "auth_enbaled": {
                    "type": "boolean",
                    "description": "Whether or not to enable auth for this web service. Defaults to True."
                },
                "enable_app_insights": {
                    "type": "boolean",
                    "description": "Whether or not to enable Application Insights logging for this web service. Defaults to False."
                },
                "collect_model_data": {
                    "type": "boolean",
                    "description": "Whether or not to enable model data collection for this web service. Defaults to False."
                },
                "primary_key": {
                    "type": "string",
                    "description": "A primary auth key to use for this web service."
                },
                "secondary_key": {
                    "type": "string",
                    "description": "A secondary auth key to use for this web service."
                },
                "autoscale_enabled": {
                    "type": "boolean",
                    "description": "Indicates whether to enable autoscaling for this web service. Defaults to True if \"num_replicas\" is null."
                },
                "autoscale_min_replicas": {
                    "type": "integer",
                    "description": "The minimum number of containers to use when autoscaling this web service. Defaults to 1.",
                    "exclusiveMinimum": 0
                },
                "autoscale_max_replicas": {
                    "type": "integer",
                    "description": "The maximum number of containers to use when autoscaling this web service. Defaults to 10",
                    "exclusiveMinimum": 0
                },
                "autoscale_refresh_seconds": {
                    "type": "integer",
                    "description": "How often (in seconds) the autoscaler should attempt to scale this web service. Defaults to 1.",
                    "exclusiveMinimum": 0
                },
                "autoscale_target_utilization": {
                    "type": "integer",
                    "description": "The target utilization (in percent out of 100) the autoscaler should attempt to maintain for this web service. Defaults to 70.",
                    "exclusiveMinimum": 0,
                    "maximum": 100
                },
                "scoring_timeout_ms": {
                    "type": "integer",
                    "description": "A timeout to enforce for scoring calls to this web service. Defaults to 60000.",
                    "exclusiveMinimum": 0
                },
                "replica_max_concurrent_requests": {
                    "type": "integer",
                    "description": "The number of maximum concurrent requests per replica to allow for this web service. Defaults to 1. **Do not change this setting from the default value of 1 unless instructed by Microsoft Technical Support or a member of Azure Machine Learning team.**",
                    "exclusiveMinimum": 0
                },
                "max_request_wait_time": {
                    "type": "integer",
                    "description": "The maximum amount of time a request will stay in the queue (in milliseconds) before returning a 503 error. Defaults to 500.",
                    "exclusiveMinimum": 0
                },
                "num_replicas": {
                    "type": ["integer", "null"],
                    "description": "The number of containers to allocate for this web service. No default, if this parameter is not set then the autoscaler is enabled by default.",
                    "exclusiveMinimum": 0
                },
                "gpu_cores": {
                    "type": "integer",
                    "description": "The number of GPU cores to allocate for this web service. Default is 1.",
                    "exclusiveMinimum": 0
                },
                "period_seconds": {
                    "type": "integer",
                    "description": "How often (in seconds) to perform the liveness probe. Default to 10 seconds. Minimum value is 1.",
                    "minimum": 1
                },
                "initial_delay_seconds": {
                    "type": "integer",
                    "description": "Number of seconds after the container has started before liveness probes are initiated. Defaults to 310.",
                    "exclusiveMinimum": 0
                },
                "timeout_seconds": {
                    "type": "integer",
                    "description": "Number of seconds after which the liveness probe times out. Defaults to 2 second. Minimum value is 1.",
                    "minimum": 1
                },
                "success_threshold": {
                    "type": "integer",
                    "description": "Minimum consecutive successes for the liveness probe to be considered successful after having failed. Defaults to 1. Minimum value is 1.",
                    "minimum": 1
                },
                "failure_threshold": {
                    "type": "integer",
                    "description": "When a Pod starts and the liveness probe fails, Kubernetes will try \"failureThreshold\" times before giving up. Defaults to 3. Minimum value is 1.",
                    "minimum": 1
                },
                "namespace": {
                    "type": ["string", "null"],
                    "description": "The Kubernetes namespace in which to deploy this web service: up to 63 lowercase alphanumeric ('a'-'z', '0'-'9') and hyphen ('-') characters. The first and last characters cannot be hyphens.",
                    "pattern": "^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$"
                },
                "token_auth_enabled": {
                    "type": "boolean",
                    "description": "Whether or not to enable Azure Active Directory auth for this web service. If this is enabled, users can access this web service by fetching access token using their Azure Active Directory credentials. Defaults to False."
                }
            },
            "required": []
        }
    }
}
