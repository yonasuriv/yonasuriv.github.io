{
    "title": "RunContext",
    "type": "object",
    "properties": {
        "workspace": {
            "type": "string",
            "pattern": "^[a-zA-Z](?!.*--)[\\w\\-]{1,22}[a-zA-Z0-9]$",
            "description": "Workspace name must be between 3-24 characters. The name must begin with a letter, end with a letter or digit, and cannot contain consecutive hyphens"
        },
        "resourceGroup": {
            "type": "string",
            "pattern": "^[-\\w\\._\\(\\)]{1,90}$",
            "description": "Resource Group name must be between 1-90 characters and can only contain alphanumeric characters, underscore, parentheses, hyphen, and period",
            "examples": []
        },
        "location": {
            "type": "string",
            "oneOf": [
                {
                    "$ref": "#/definitions/location"
                }
            ]
        },
        "experiment": {
            "type": "string",
            "pattern": "^[a-zA-Z0-9][\\w\\-]{2,35}$",
            "description": "Experiment name must be 3-36 characters, start with a letter or a number, and can only contain letters, numbers, underscores, and dashes"
        },
        "compute": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "pattern": "^[a-zA-Z][a-zA-Z0-9\\-]{2,15}$",
                    "description": "Compute name must be 3-16 characters, start with a letter, and can only contain letters, numbers and dashes"
                },
                "vmSize": {
                    "type": "string",
                    "oneOf": [
                        {
                            "$ref": "#/definitions/computeSize"
                        }
                    ]
                }
            }
        },
        "runConfiguration": {
            "type": "object",
            "properties": {
                "filename": {
                    "type": "string"
                },
                "environment": {
                    "type": "object",
                    "description": "Selected environment preview.\nRemarks: If you selected an exising environment, changes to this object will only affect the current experiment run and will not save or update your managed environments.",
                    "properties": {
                        "conda_dependencies": {
                            "type": [
                                "array",
                                "null"
                            ],
                            "description": "Conda dependencies for the run.\nRemarks: If you selected an exising environment, changes to this array will only affect the current experiment run and will not save or update your managed environments.",
                            "items": {
                                "type": "string"
                            }
                        },
                        "pip_dependencies": {
                            "type": [
                                "array",
                                "null"
                            ],
                            "description": "Pip dependencies for the run.\nRemarks: If you selected an exising environment, changes to this array will only affect the current experiment run and will not save or update your managed environments.",
                            "items": {
                                "type": "string"
                            }
                        },
                        "environment_variables": {
                            "type": [
                                "null",
                                "object"
                              ],
                              "description": "Definition of environment variables.\nRemarks: If you selected an exising environment, changes to this object will only affect the current experiment run and will not save or update your managed environments."
                        }
                    },
                    "required": ["conda_dependencies", "pip_dependencies", "environment_variables"]
                },
                "datasets": {
                    "type": "object",
                    "description": "Selected Datasets default settings. Any changes made here WILL reflect in your experiment run and needs to be integrated in your trianing script",
                    "additionalProperties": {
                        "type": "object",
                        "properties": {
                            "version": {
                                "type": "integer",
                                "description": "The version of the dataset to use. Defaults to latest version. Can range from 1 to latest",
                                "minimum": 1
                            },
                            "namedInput": {
                                "type": "string",
                                "description": "The named input to be used for your dataset. You will be using this to access the dataset in your training script. It can only be alphanumeric characters and underscore, and must not begin with a number",
                                "pattern": "^[a-zA-Z_]+[a-zA-Z0-9_]*$"
                            },
                            "scriptParam": {
                                "type": "string",
                                "description": "The name of the argument which you want to use in your training script to access the data folder"
                            },
                            "attachMechanism": {
                                "type": "string",
                                "description": "The delivery mechanism for your dataset to the compute. Allowed values are \"Mount\" and \"Download\". For more information, visit https:\/\/docs.microsoft.com\/en-us\/azure\/machine-learning\/how-to-train-with-datasets#option-2--mount-files-to-a-remote-compute-target",
                                "enum": [
                                    "Mount",
                                    "Download"
                                ]
                            },
                            "pathOnCompute": {
                                "type": ["string", "null"],
                                "description": "The path on the compute where the dataset will be mounted or downloaded. If null, a temp directory will be created."
                            }
                        }
                    }
                }
            },
            "required": ["filename"]
        }
    },
    "definitions": {
        "location": {
            "type": "string",
            "enum": []
        },
        "computeSize": {
            "type": "string",
            "enum": []
        }
    }
}
